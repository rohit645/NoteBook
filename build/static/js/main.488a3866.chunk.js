(this.webpackJsonppart2c=this.webpackJsonppart2c||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(14),c=n.n(r),l=(n(16),n(2)),s=n.n(l),u=n(3),i=n(15),m=n(4),p=n.n(m),f=null,g=function(){console.log("Just now sent a GET request to server");var e=p.a.get("/api/notes");return console.log("fetching data from server"),e.then((function(e){return e.data}))},d=function(e){var t,n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={headers:{authorization:f}},console.log("creating new object in server at ".concat("/api/notes")),console.log("config",t),a.next=5,s.a.awrap(p.a.post("/api/notes",e,t));case 5:return n=a.sent,a.abrupt("return",n.data);case 7:case"end":return a.stop()}}))},v=function(e){Object(i.a)("token"),f="bearer ".concat(e)},h=function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(p.a.post("/api/login/",e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},b=function(e){var t=e.message;return o.a.createElement("div",{className:"error"},t)},E=function(e){var t=e.note,n=e.changeimportance,a=e.showAll,r=t.important?"make not important":"make important";return a||t.important?o.a.createElement("li",{className:"note"},t.content,o.a.createElement("button",{onClick:function(){return n(t.id)}}," ",r," ")):null},w=function(e,t,n){t(e),n(""),setTimeout((function(){t(null)}),3e3)},O=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),l=Object(u.a)(c,2),i=l[0],m=l[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),O=f[0],j=f[1],S=Object(a.useState)(!0),k=Object(u.a)(S,2),y=k[0],x=(k[1],Object(a.useState)("")),C=Object(u.a)(x,2),N=C[0],A=C[1],D=Object(a.useState)(""),J=Object(u.a)(D,2),I=J[0],T=J[1],q=Object(a.useState)(null),L=Object(u.a)(q,2),z=L[0],B=L[1];Object(a.useEffect)((function(){console.log("inside fetch Data"),g().then((function(e){console.log("fetcing is finaly complete ugh!!"),r(e)}))}),[]);var G=function(e){console.log("handle note change",i),m(e.target.value)},M=function(e){console.log("handle username",N),A(e.target.value)},U=function(e){console.log("handle password",I),T(e.target.value)},F=function(e){if(e.preventDefault(),function(e,t){console.log("value",e);var n=!1;return t.forEach((function(t){console.log("ele.content",t.content),t.content.toLowerCase()===e.toLowerCase()&&(n=!0)})),n}(i,n)){var t='note with content "'.concat(i,'" is duplicate');w(t,j,m)}else{var a={content:i,important:Math.random()>.5,date:(new Date).toISOString()};d(a).then((function(e){console.log("post request has been made to server"),r(n.concat(e)),m("")}))}},H=function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),console.log("started login process"),n.prev=2,n.next=5,s.a.awrap(h({username:N,password:I}));case 5:t=n.sent,console.log("user.token is",t.token),window.localStorage.setItem("loggedNoteAppUser",JSON.stringify(t)),v(t.token),B(t),A(""),T(""),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(2),j("wrong credentials!"),setTimeout((function(){j(null)}),3e3);case 18:case"end":return n.stop()}}),null,null,[[2,14]])};return o.a.createElement("div",null,o.a.createElement("h1",null,"Notes"),o.a.createElement(b,{message:O}),o.a.createElement("h2",null,"login"),null===z?o.a.createElement("form",{onSubmit:H},o.a.createElement("div",null,"username",o.a.createElement("input",{type:"text",value:N,name:"username",onChange:M})),o.a.createElement("div",null,"password",o.a.createElement("input",{type:"password",value:I,name:"password",onChange:U})),o.a.createElement("button",{type:"submit"},"login")):o.a.createElement("div",null,"hello ",z.username,o.a.createElement("form",{onSubmit:F},o.a.createElement("h1",null,"Add new notes here!"),o.a.createElement("input",{value:i,onChange:G,id:"first"}),o.a.createElement("button",{type:"submit"},"Add"))),o.a.createElement("ul",null,n.map((function(e){return o.a.createElement(E,{note:y,key:e.id})}))))};n(40);c.a.render(o.a.createElement(O,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.488a3866.chunk.js.map